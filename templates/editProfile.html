<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Editar perfil</title>
	<link rel="stylesheet" type="text/css" href="{{url_for('static', filename='css/bootstrap.css')}}">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
  <style>
    .bg-white{
      background-color: white;
    }
  </style>
</head>
<body class="bg-light">
{% include 'header.html' %}
  <div class="container p-3  bg-white">
    <h2 class="text-center">Edita tu perfil</h2>
    <p class="text-center fs-4">Bienvenido a la página de edición de perfil. Aquí puede actualizar y agregar información a su perfil. Por favor, complete los siguientes campos:</p>
    <form action="" method="POST" novalidate>
      <div class="accordion accordion-flush" id="accordionPerfil">
        <div class="accordion-item">
          <h2 class="accordion-header">
            <button class="accordion-button " type="button" data-bs-toggle="collapse"data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">Información personal</button>
          </h2>
          <div class="accordion-collapse collapsed show" id="collapseOne">
            <div class="accordion-body">
              <div class="row">
                <div class="col-lg-6">
                  <div class="form-floating mb-2 has-validation" >
                    <input type="text" name="name" class="form-control" id="name" placeholder="Nombre" value="{{user['name']}}" required>
                    <label for="name">Nombre</label>
                    <div class="invalid-feedback">
                      Por favor complete este campo
                    </div>                
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="form-floating mb-2 has-validation">
                    <input type="text" name="lastName" class="form-control" id="lastName" placeholder="Apellido" value="{{user['lastName']}}" required>
                    <label for="lastName">Apellido</label>
                    <div class="invalid-feedback">
                      Por favor complete este campo
                    </div>  
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-6">
                  <div class="form-floating mb-2 has-validation">
                    <input type="number" name="phone" class="form-control" id="phone" placeholder="Telefono" value="{{user['phone']}}" required>
                    <label for="phone">Telefono</label>
                    <div class="invalid-feedback">
                      Por favor complete este campo
                    </div>  
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-6">
                  <div class="form-floating mb-2 has-validation">
                    <input type="text" name="email" class="form-control" id="email" placeholder="Correo" value="{{user['email']}}" required>
                    <label for="email">Correo</label>
                    <div class="invalid-feedback">
                      Por favor complete este campo
                    </div>  
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="form-floating mb-2 has-validation">
                    <input type="text" name="email" class="form-control" id="email" placeholder="Confirma el correo" required>
                    <label for="email">Confirma el correo</label>
                    <div class="invalid-feedback">
                      Por favor complete este campo
                    </div>  
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingTwo">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
              Contraseña
            </button>
          </h2>
          <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo">
            <div class="accordion-body">
              <div class="row">
                <div class="col-lg-6">
                  <div class="form-floating mb-2 has-validation">
                    <input type="password" name="password" class="form-control" id="password" placeholder="Contraseña" required>
                    <label for="password">Contraseña actual</label>
                    <div class="invalid-feedback">
                      Por favor complete este campo
                    </div>  
                  </div>   
                </div>             
              </div>
              <div class="row">
                <div class="col-lg-6">
                  <div class="form-floating mb-2 has-validation">
                    <input type="password" name="password" class="form-control" id="password" placeholder="Contraseña" required>
                    <label for="password">Contraseña nueva</label>
                    <div class="invalid-feedback">
                      Por favor complete este campo
                    </div>  
                  </div>   
                </div>
                <div class="col-lg-6">
                  <div class="form-floating mb-2 has-validation">
                    <input type="password" name="password" class="form-control" id="password" placeholder="Contraseña" required>
                    <label for="password">Confirma la ontraseña</label>
                    <div class="invalid-feedback">
                      Por favor complete este campo
                    </div>  
                  </div>                    
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingThree">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
              Dirección
            </button>
          </h2>
          <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">
            <div class="accordion-body">
              <div class="row">
                <div class="col-lg-3">
                  <div class="form-floating mb-2 has-validation">
                    <select class="form-select" id="streetType">
                    <option value="" selected disabled>Seleccione</option>
                      {% for streetType in streetTypes %}
                      {% if streetType['id'] == user['streetType']['id'] %}
                        <option value="{{streetType['id']}}" selected>{{streetType["name"]}}</option>
                      {% else %}
                        <option value="{{streetType['id']}}">{{streetType["name"]}}</option>
                      {% endif %}
                      {% endfor %}  
                    </select>
                    <label for="streetType">Tipo calle</label>
                    <div class="invalid-feedback">
                      Por favor complete este campo
                    </div>  
                  </div>
                </div>
                <div class="col-lg-3">
                  <div class="form-floating mb-2 has-validation">
                    <input type="text" name="street" class="form-control" id="street" placeholder="Calle" value="{{user['street']}}" required>
                    <label for="street">Calle</label>
                    <div class="invalid-feedback">
                      Por favor complete este campo
                    </div>  
                  </div>                
                </div>
                <div class="col-lg-3">
                  <div class="form-floating mb-2 has-validation">
                    <input type="text" name="number" class="form-control" id="number" placeholder="Numero" value="{{user['addressNumber']}}" required>
                    <label for="number">Numero</label>
                    <div class="invalid-feedback">
                      Por favor complete este campo
                    </div>  
                  </div>                
                </div>  
                <div class="col-lg-3">
                  <div class="form-floating mb-2 has-validation">
                    <input type="text" name="house" class="form-control" id="house" value="{{user['addressHouse']}}" placeholder="-">
                    <label for="house">-</label>
                    <div class="invalid-feedback">
                      Por favor complete este campo
                    </div>  
                  </div>                
                </div>  
              </div>
              <div class="row">
                <div class="col-lg-12">
                  <div class="form-floating mb-2 has-validation">
                    <textarea class="form-control" placeholder="Información adicional de la direccion" id="infoAddress" style="height: 100px; resize: none;">{{user['addressAditionalInfo']}}</textarea>
                    <label for="infoAddress">Información adicional de la direccion</label>
                    <div class="invalid-feedback">
                      Por favor complete este campo
                    </div>  
                  </div>
                </div>
              </div>
              <div class="row">
                <div style="width: 100%"><iframe width="100%" height="600" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.com/maps?width=100%25&amp;height=600&amp;hl=co&amp;q={{user['city']['name']}}%20{{user['streetType']['name']}}%20{{user['street']}}%20{{user['addressNumber']}}%20{{user['addressHouse']}}&amp;t=&amp;z=14&amp;ie=UTF8&amp;iwloc=B&amp;output=embed"><a href="https://www.gps.ie/car-satnav-gps/">Sat Navs</a></iframe></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="d-flex justify-content-end">
        <button class="btn btn-success  mt-3">Guardar perfil</button>
      </div>
    </form>

    
  </div>
    <script>
    (() => {
      'use strict'

  // Fetch all the forms we want to apply custom Bootstrap validation styles to
      const forms = document.querySelectorAll('.needs-validation')

  // Loop over them and prevent submission
      Array.from(forms).forEach(form => {
        form.addEventListener('submit', event => {
          if (!form.checkValidity()) {
            event.preventDefault()
            event.stopPropagation()
          }

          form.classList.add('was-validated')
        }, false)
      })
    })()
  </script> 
</body>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
</body>
</html>