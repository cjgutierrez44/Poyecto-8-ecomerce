<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Inicio de sesión</title>
	<link rel="stylesheet" type="text/css" href="{{url_for('static', filename='css/bootstrap.css')}}">
	<link rel="stylesheet" type="text/css" href="{{url_for('static', filename='css/validation.css')}}">
	<style>
		body {
			background-image: url("{{url_for('static', filename='img/cloud.png')}}");
			background-size: cover;
			background-position: center;
			background-repeat: no-repeat;
		}
		img {
			max-width: 550px;
			max-height: 550px;
		} 

	</style>
</head>
<body>
	<div class="container-fluid  min-vh-100 d-flex flex-column-reverse flex-lg-row justify-contetn-center align-items-center" >
		<div class="col-12 col-lg-6 px-lg-5 pt-4 pt-lg-0">
			<h1 class="text-center fw-bold mb-5 ">Ingresa a tu cuenta</h1>

			<form action="/login" method="POST" class="needs-validation col-12 col-md-12 col-xl-6 mx-lg-auto" novalidate id="form">
				{% with messages = get_flashed_messages() %}
				{% if messages %}
				<div class="alert alert-danger">
					{% for message in messages %}
					{{ message }}
					{% endfor %}
				</div>
				{% endif %}
				{% endwith %}
				<div class="form-floating validate mb-2">
					<input type="email" name="email" class="form-control validate-pattern-email" id="email" placeholder="Correo" required>
					<label for="email">Correo</label>
					<div class="error-message">
						Por favor escriba su Correo.
					</div>	
					<div class="pattern-error-message">
						Su correo debe tener el siguiente formato.
						email@example.com
					</div>				
				</div>
				<div class="form-floating validate mb-3">
					<input type="password" name="password" class="form-control" id="password" placeholder="Contraseña" required>
					<label for="password">Contraseña</label>
					<div class="error-message">
						Por favor escriba su Contraseña.
					</div>					
				</div>
				<div class="form-check mb-3">
					<input class="form-check-input" type="checkbox" value="" id="terms" >
					<label class="form-check-label" for="terms">
						Mantener sesión iniciada
					</label>
				</div>	
				<button type="submit" class="btn btn-success fw-bold mb-2 px-4">Entrar</button>
				<div class="row">
					<a href="/reset" class="text-decoration-none text-center mb-4 mb-lg-2 ">Olvidé mi contraseña</a>						
				</div>
				<h5 class="text-center mb-3	">¿No tienes cuenta? <a href="/register" class="text-decoration-none fw-bold text-success">Registrate</a></h5>
			</form>
		</div>
		<div class="col-lg-6">
			<div class="row">					
				<img  src="{{url_for('static', filename='img/Login-amico.svg')}}">
			</div>
			<div class="row text-center mx-lg-5 px-lg-5">
				<h3 class=" mt-0 fw-bold"><span class="text-success fw-bold">¡Bienvenido/a de nuevo!</span> Estamos felices de verte de vuelta. Por favor, inicia sesión para acceder a todas las funciones de nuestra plataforma.</h3>
			</div>
		</div>
	</div>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
	<script type="text/javascript" src="{{url_for('static', filename='js/validation.js')}}"></script>
	<script>
		(function(){
			const form = document.getElementById('form');
			form.addEventListener('submit', event =>{
				if(!validate()){
					event.preventDefault();
					event.stopPropagation();
				}

			});
		})();
	</script> 
</body>
</html>